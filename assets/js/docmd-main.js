/*!
 * docmd (v0.4.10)
 * Copyright (c) 2025-present docmd.io
 * License: MIT
 */
(function(){document.addEventListener("click",n=>{const e=n.target.closest(".nav-label, .collapse-icon-wrapper");if(e){const c=e.closest("li.collapsible");if(c){n.preventDefault();const s=c.classList.contains("expanded");c.classList.toggle("expanded",!s),c.setAttribute("aria-expanded",!s)}if(e.classList.contains("collapse-icon-wrapper"))return}n.target.closest(".toc-menu-button, .toc-title")&&document.querySelector(".toc-container")?.classList.toggle("mobile-expanded"),n.target.closest(".sidebar-menu-button")&&document.querySelector(".sidebar")?.classList.toggle("mobile-expanded"),n.target.closest("#sidebar-toggle-button")&&(document.body.classList.toggle("sidebar-collapsed"),localStorage.setItem("docmd-sidebar-collapsed",document.body.classList.contains("sidebar-collapsed")));const t=n.target.closest(".docmd-tabs-nav-item");if(t){const c=t.closest(".docmd-tabs"),s=Array.from(c.querySelectorAll(".docmd-tabs-nav-item")),r=Array.from(c.querySelectorAll(".docmd-tab-pane")),a=s.indexOf(t);s.forEach(l=>l.classList.remove("active")),r.forEach(l=>l.classList.remove("active")),t.classList.add("active"),r[a]&&r[a].classList.add("active")}const o=n.target.closest(".copy-code-button");if(o){const c=o.closest(".code-wrapper")?.querySelector("code");c&&navigator.clipboard.writeText(c.innerText).then(()=>{o.classList.add("copied"),o.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check"><polyline points="20 6 9 17 4 12"></polyline></svg>',setTimeout(()=>{o.classList.remove("copied"),o.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>'},2e3)})}});function y(){if(document.body.dataset.copyCodeEnabled!=="true")return;const n='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>';document.querySelectorAll("pre").forEach(e=>{if(e.closest(".code-wrapper"))return;const t=document.createElement("div");t.className="code-wrapper",t.style.position="relative",e.parentNode.insertBefore(t,e),t.appendChild(e);const o=document.createElement("button");o.className="copy-code-button",o.innerHTML=n,t.appendChild(o)})}let h=null;function b(){h&&h.disconnect();const n=document.querySelectorAll(".toc-link"),e=document.querySelectorAll(".main-content h2, .main-content h3, .main-content h4"),t=document.querySelector(".toc-list");n.length===0||e.length===0||(h=new IntersectionObserver(o=>{o.forEach(c=>{if(c.isIntersecting){n.forEach(a=>a.classList.remove("active"));const s=c.target.getAttribute("id"),r=document.querySelector(`.toc-link[href="#${s}"]`);if(r&&(r.classList.add("active"),t)){const a=r.getBoundingClientRect(),l=t.getBoundingClientRect();(a.bottom>l.bottom||a.top<l.top)&&t.scrollTo({top:r.offsetTop-l.height/2+a.height/2,behavior:"smooth"})}}})},{rootMargin:"-15% 0px -80% 0px",threshold:0}),e.forEach(o=>h.observe(o)))}function S(n){n.querySelectorAll("script").forEach(e=>{const t=document.createElement("script");Array.from(e.attributes).forEach(o=>t.setAttribute(o.name,o.value)),t.text=e.innerHTML,e.parentNode.replaceChild(t,e)})}function A(){if(location.protocol==="file:"||document.body.dataset.spaEnabled!=="true")return;let n=window.location.pathname;document.addEventListener("click",async t=>{if(t.target.closest(".collapse-icon-wrapper"))return;const o=t.target.closest(".sidebar-nav a, .page-navigation a");if(!o||o.target==="_blank"||o.hasAttribute("download"))return;const c=new URL(o.href);c.origin===location.origin&&(c.pathname===window.location.pathname&&c.hash||(t.preventDefault(),await e(c.href)))}),window.addEventListener("popstate",()=>{window.location.pathname!==n&&e(window.location.href,!1)});async function e(t,o=!0){const c=document.querySelector(".content-layout");try{c&&(c.style.minHeight=c.getBoundingClientRect().height+"px");const s=await fetch(t);if(!s.ok)throw new Error("Fetch failed");const r=s.url,a=await s.text(),m=new DOMParser().parseFromString(a,"text/html");o&&history.pushState({},"",r),n=new URL(r).pathname,document.title=m.title;const v='link[rel="stylesheet"], link[rel="icon"], link[rel="shortcut icon"]',p=Array.from(document.head.querySelectorAll(v));Array.from(m.head.querySelectorAll(v)).forEach((i,d)=>{p[d]?p[d].getAttribute("href")!==i.getAttribute("href")&&p[d].setAttribute("href",i.getAttribute("href")):document.head.appendChild(i.cloneNode(!0))});const k=Array.from(document.querySelectorAll(".sidebar-nav li")),E=Array.from(m.querySelectorAll(".sidebar-nav li"));k.forEach((i,d)=>{const u=E[d];if(u){i.classList.toggle("active",u.classList.contains("active")),i.classList.toggle("active-parent",u.classList.contains("active-parent")),u.classList.contains("expanded")&&(i.classList.add("expanded"),i.setAttribute("aria-expanded","true"));const f=i.querySelector("a"),g=u.querySelector("a");f&&g&&(f.setAttribute("href",g.getAttribute("href")),f.classList.toggle("active",g.classList.contains("active")))}}),[".content-layout",".page-header .header-title",".page-footer",".footer-complete",".page-footer-actions"].forEach(i=>{const d=document.querySelector(i),u=m.querySelector(i);d&&u&&(d.innerHTML=u.innerHTML)});const w=new URL(r).hash;w?document.querySelector(w)?.scrollIntoView():window.scrollTo(0,0),y(),b();const L=document.querySelector(".main-content");L&&S(L),document.dispatchEvent(new CustomEvent("docmd:page-mounted",{detail:{url:r}})),setTimeout(()=>{const i=document.querySelector(".content-layout");i&&(i.style.minHeight="")},100)}catch{window.location.assign(t)}}}document.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("docmd-sidebar-collapsed")==="true"&&document.body.classList.add("sidebar-collapsed"),document.querySelectorAll(".theme-toggle-button").forEach(n=>{n.addEventListener("click",()=>{const e=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),localStorage.setItem("docmd-theme",e);const t=document.getElementById("hljs-light"),o=document.getElementById("hljs-dark");t&&o&&(t.disabled=e==="dark",o.disabled=e==="light")})}),y(),b(),A(),setTimeout(()=>{const n=document.querySelector(".sidebar-nav a.active"),e=document.querySelector(".sidebar-nav");n&&e&&e.scrollTo({top:n.offsetTop-e.clientHeight/2,behavior:"instant"}),window.location.hash&&document.querySelector(window.location.hash)?.scrollIntoView()},100)})})();
