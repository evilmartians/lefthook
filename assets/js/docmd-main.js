/*!
 * docmd (v0.4.9)
 * Copyright (c) 2025-present docmd.io
 * License: MIT
 */
(function(){document.addEventListener("click",c=>{const t=c.target.closest(".nav-label, .collapse-icon-wrapper");if(t){const n=t.closest("li.collapsible");if(n){c.preventDefault();const r=n.classList.contains("expanded");n.classList.toggle("expanded",!r),n.setAttribute("aria-expanded",!r)}if(t.classList.contains("collapse-icon-wrapper"))return}c.target.closest(".toc-menu-button, .toc-title")&&document.querySelector(".toc-container")?.classList.toggle("mobile-expanded"),c.target.closest(".sidebar-menu-button")&&document.querySelector(".sidebar")?.classList.toggle("mobile-expanded"),c.target.closest("#sidebar-toggle-button")&&(document.body.classList.toggle("sidebar-collapsed"),localStorage.setItem("docmd-sidebar-collapsed",document.body.classList.contains("sidebar-collapsed")));const e=c.target.closest(".docmd-tabs-nav-item");if(e){const n=e.closest(".docmd-tabs"),r=Array.from(n.querySelectorAll(".docmd-tabs-nav-item")),i=Array.from(n.querySelectorAll(".docmd-tab-pane")),s=r.indexOf(e);r.forEach(l=>l.classList.remove("active")),i.forEach(l=>l.classList.remove("active")),e.classList.add("active"),i[s]&&i[s].classList.add("active")}const o=c.target.closest(".copy-code-button");if(o){const n=o.closest(".code-wrapper")?.querySelector("code");n&&navigator.clipboard.writeText(n.innerText).then(()=>{o.classList.add("copied"),o.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check"><polyline points="20 6 9 17 4 12"></polyline></svg>',setTimeout(()=>{o.classList.remove("copied"),o.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>'},2e3)})}});function p(){if(document.body.dataset.copyCodeEnabled!=="true")return;const c='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>';document.querySelectorAll("pre").forEach(t=>{if(t.closest(".code-wrapper"))return;const e=document.createElement("div");e.className="code-wrapper",e.style.position="relative",t.parentNode.insertBefore(e,t),e.appendChild(t);const o=document.createElement("button");o.className="copy-code-button",o.innerHTML=c,e.appendChild(o)})}let u=null;function f(){u&&u.disconnect();const c=document.querySelectorAll(".toc-link"),t=document.querySelectorAll(".main-content h2, .main-content h3, .main-content h4"),e=document.querySelector(".toc-list");c.length===0||t.length===0||(u=new IntersectionObserver(o=>{o.forEach(n=>{if(n.isIntersecting){c.forEach(s=>s.classList.remove("active"));const r=n.target.getAttribute("id"),i=document.querySelector(`.toc-link[href="#${r}"]`);if(i&&(i.classList.add("active"),e)){const s=i.getBoundingClientRect(),l=e.getBoundingClientRect();(s.bottom>l.bottom||s.top<l.top)&&e.scrollTo({top:i.offsetTop-l.height/2+s.height/2,behavior:"smooth"})}}})},{rootMargin:"-15% 0px -80% 0px",threshold:0}),t.forEach(o=>u.observe(o)))}function L(c){c.querySelectorAll("script").forEach(t=>{const e=document.createElement("script");Array.from(t.attributes).forEach(o=>e.setAttribute(o.name,o.value)),e.text=t.innerHTML,t.parentNode.replaceChild(e,t)})}function S(){if(location.protocol==="file:"||document.body.dataset.spaEnabled!=="true")return;let c=window.location.pathname;document.addEventListener("click",async e=>{if(e.target.closest(".collapse-icon-wrapper"))return;const o=e.target.closest(".sidebar-nav a, .page-navigation a");if(!o||o.target==="_blank"||o.hasAttribute("download"))return;const n=new URL(o.href);n.origin===location.origin&&(n.pathname===window.location.pathname&&n.hash||(e.preventDefault(),await t(n.href)))}),window.addEventListener("popstate",()=>{window.location.pathname!==c&&t(window.location.href,!1)});async function t(e,o=!0){const n=document.querySelector(".main-content-wrapper");try{n&&(n.style.opacity="0.5");const r=await fetch(e);if(!r.ok)throw new Error("Fetch failed");const i=r.url,s=await r.text(),h=new DOMParser().parseFromString(s,"text/html");o&&history.pushState({},"",i),c=new URL(i).pathname,document.title=h.title;const g='link[rel="stylesheet"], link[rel="icon"], link[rel="shortcut icon"]',m=Array.from(document.head.querySelectorAll(g));Array.from(h.head.querySelectorAll(g)).forEach((a,d)=>{m[d]?m[d].getAttribute("href")!==a.getAttribute("href")&&m[d].setAttribute("href",a.getAttribute("href")):document.head.appendChild(a.cloneNode(!0))});const b=new Set;document.querySelectorAll(".sidebar-nav li.collapsible.expanded > .nav-label .nav-item-title, .sidebar-nav li.collapsible.expanded > a .nav-item-title").forEach(a=>{b.add(a.textContent.trim())}),[".main-content",".toc-sidebar",".sidebar-nav",".page-header .header-title",".page-footer",".footer-complete",".page-footer-actions"].forEach(a=>{const d=document.querySelector(a),w=h.querySelector(a);d&&w&&(d.innerHTML=w.innerHTML)}),document.querySelectorAll(".sidebar-nav li.collapsible").forEach(a=>{const d=a.querySelector(".nav-item-title")?.textContent.trim();b.has(d)&&(a.classList.add("expanded"),a.setAttribute("aria-expanded","true"))});const y=new URL(i).hash;y?document.querySelector(y)?.scrollIntoView():(n&&n.scrollTo(0,0),window.scrollTo(0,0)),n&&(n.style.opacity="1"),p(),f();const v=document.querySelector(".main-content");v&&L(v),document.dispatchEvent(new CustomEvent("docmd:page-mounted",{detail:{url:i}}))}catch{window.location.assign(e)}}}document.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("docmd-sidebar-collapsed")==="true"&&document.body.classList.add("sidebar-collapsed"),document.querySelectorAll(".theme-toggle-button").forEach(c=>{c.addEventListener("click",()=>{const t=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",t),document.body.setAttribute("data-theme",t),localStorage.setItem("docmd-theme",t);const e=document.getElementById("hljs-light"),o=document.getElementById("hljs-dark");e&&o&&(e.disabled=t==="dark",o.disabled=t==="light")})}),p(),f(),S(),setTimeout(()=>{const c=document.querySelector(".sidebar-nav a.active"),t=document.querySelector(".sidebar-nav");if(c&&t&&t.scrollTo({top:c.offsetTop-t.clientHeight/2,behavior:"instant"}),window.location.hash){const e=document.querySelector(window.location.hash);e&&e.scrollIntoView()}},100)})})();
