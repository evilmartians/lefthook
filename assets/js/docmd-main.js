/*!
 * docmd (v0.4.11)
 * Copyright (c) 2025-present docmd.io
 * License: MIT
 */
(function(){document.addEventListener("click",i=>{const e=i.target.closest(".nav-label, .collapse-icon-wrapper");if(e){const o=e.closest("li.collapsible");if(o){i.preventDefault();const a=o.classList.contains("expanded");o.classList.toggle("expanded",!a),o.setAttribute("aria-expanded",!a)}if(e.classList.contains("collapse-icon-wrapper"))return}i.target.closest(".toc-menu-button, .toc-title")&&document.querySelector(".toc-container")?.classList.toggle("mobile-expanded"),i.target.closest(".sidebar-menu-button")&&document.querySelector(".sidebar")?.classList.toggle("mobile-expanded"),i.target.closest("#sidebar-toggle-button")&&(document.body.classList.toggle("sidebar-collapsed"),localStorage.setItem("docmd-sidebar-collapsed",document.body.classList.contains("sidebar-collapsed")));const t=i.target.closest(".docmd-tabs-nav-item");if(t){const o=t.closest(".docmd-tabs"),a=Array.from(o.querySelectorAll(".docmd-tabs-nav-item")),c=Array.from(o.querySelectorAll(".docmd-tab-pane")),r=a.indexOf(t);a.forEach(l=>l.classList.remove("active")),c.forEach(l=>l.classList.remove("active")),t.classList.add("active"),c[r]&&c[r].classList.add("active")}const n=i.target.closest(".copy-code-button");if(n){const o=n.closest(".code-wrapper")?.querySelector("code");o&&navigator.clipboard.writeText(o.innerText).then(()=>{n.classList.add("copied"),n.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check"><polyline points="20 6 9 17 4 12"></polyline></svg>',setTimeout(()=>{n.classList.remove("copied"),n.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>'},2e3)})}});function b(){if(document.body.dataset.copyCodeEnabled!=="true")return;const i='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>';document.querySelectorAll("pre").forEach(e=>{if(e.closest(".code-wrapper"))return;const t=document.createElement("div");t.className="code-wrapper",t.style.position="relative",e.parentNode.insertBefore(t,e),t.appendChild(e);const n=document.createElement("button");n.className="copy-code-button",n.innerHTML=i,t.appendChild(n)})}let h=null;function y(){h&&h.disconnect();const i=document.querySelectorAll(".toc-link"),e=document.querySelectorAll(".main-content h2, .main-content h3, .main-content h4"),t=document.querySelector(".toc-list");i.length===0||e.length===0||(h=new IntersectionObserver(n=>{n.forEach(o=>{if(o.isIntersecting){i.forEach(r=>r.classList.remove("active"));const a=o.target.getAttribute("id"),c=document.querySelector(`.toc-link[href="#${a}"]`);if(c&&(c.classList.add("active"),t)){const r=c.getBoundingClientRect(),l=t.getBoundingClientRect();(r.bottom>l.bottom||r.top<l.top)&&t.scrollTo({top:c.offsetTop-l.height/2+r.height/2,behavior:"smooth"})}}})},{rootMargin:"-15% 0px -80% 0px",threshold:0}),e.forEach(n=>h.observe(n)))}function A(i){i.querySelectorAll("script").forEach(e=>{const t=document.createElement("script");Array.from(e.attributes).forEach(n=>t.setAttribute(n.name,n.value)),t.text=e.innerHTML,e.parentNode.replaceChild(t,e)})}function S(){if(location.protocol==="file:"||document.body.dataset.spaEnabled!=="true")return;let i=window.location.pathname;const e=new Map;let t=null;document.addEventListener("mouseover",o=>{const a=o.target.closest(".sidebar-nav a, .page-navigation a");if(!a||a.target==="_blank"||a.hasAttribute("download"))return;const c=new URL(a.href).href;new URL(c).origin===location.origin&&(e.has(c)||(clearTimeout(t),t=setTimeout(()=>{e.set(c,fetch(c).then(r=>{if(!r.ok)throw new Error("Prefetch failed");return{html:r.text(),finalUrl:r.url}}).catch(()=>e.delete(c)))},65)))}),document.addEventListener("mouseout",()=>clearTimeout(t)),document.addEventListener("click",async o=>{if(o.target.closest(".collapse-icon-wrapper"))return;const a=o.target.closest(".sidebar-nav a, .page-navigation a");if(!a||a.target==="_blank"||a.hasAttribute("download"))return;const c=new URL(a.href);c.origin===location.origin&&(c.pathname===window.location.pathname&&c.hash||(o.preventDefault(),await n(c.href)))}),window.addEventListener("popstate",()=>{window.location.pathname!==i&&n(window.location.href,!1)});async function n(o,a=!0){const c=document.querySelector(".content-layout");try{c&&(c.style.minHeight=c.getBoundingClientRect().height+"px");let r;if(e.has(o))r=await e.get(o),r.html=await r.html;else{const s=await fetch(o);if(!s.ok)throw new Error("Fetch failed");r={html:await s.text(),finalUrl:s.url},e.set(o,Promise.resolve(r))}const l=r.finalUrl,k=r.html,m=new DOMParser().parseFromString(k,"text/html");a&&history.pushState({},"",l),i=new URL(l).pathname,document.title=m.title;const w='link[rel="stylesheet"], link[rel="icon"], link[rel="shortcut icon"]',f=Array.from(document.head.querySelectorAll(w));Array.from(m.head.querySelectorAll(w)).forEach((s,d)=>{f[d]?f[d].getAttribute("href")!==s.getAttribute("href")&&f[d].setAttribute("href",s.getAttribute("href")):document.head.appendChild(s.cloneNode(!0))});const E=Array.from(document.querySelectorAll(".sidebar-nav li")),q=Array.from(m.querySelectorAll(".sidebar-nav li"));E.forEach((s,d)=>{const u=q[d];if(u){s.classList.toggle("active",u.classList.contains("active")),s.classList.toggle("active-parent",u.classList.contains("active-parent")),u.classList.contains("expanded")&&(s.classList.add("expanded"),s.setAttribute("aria-expanded","true"));const p=s.querySelector("a"),g=u.querySelector("a");p&&g&&(p.setAttribute("href",g.getAttribute("href")),p.classList.toggle("active",g.classList.contains("active")))}}),[".content-layout",".page-header .header-title",".page-footer",".footer-complete",".page-footer-actions"].forEach(s=>{const d=document.querySelector(s),u=m.querySelector(s);d&&u&&(d.innerHTML=u.innerHTML)});const v=new URL(l).hash;v?document.querySelector(v)?.scrollIntoView():window.scrollTo(0,0),b(),y();const L=document.querySelector(".main-content");L&&A(L),document.dispatchEvent(new CustomEvent("docmd:page-mounted",{detail:{url:l}})),setTimeout(()=>{const s=document.querySelector(".content-layout");s&&(s.style.minHeight="")},100)}catch{window.location.assign(o)}}}document.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("docmd-sidebar-collapsed")==="true"&&document.body.classList.add("sidebar-collapsed"),document.querySelectorAll(".theme-toggle-button").forEach(i=>{i.addEventListener("click",()=>{const e=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),localStorage.setItem("docmd-theme",e);const t=document.getElementById("hljs-light"),n=document.getElementById("hljs-dark");t&&n&&(t.disabled=e==="dark",n.disabled=e==="light")})}),b(),y(),S(),setTimeout(()=>{const i=document.querySelector(".sidebar-nav a.active"),e=document.querySelector(".sidebar-nav");i&&e&&e.scrollTo({top:i.offsetTop-e.clientHeight/2,behavior:"instant"}),window.location.hash&&document.querySelector(window.location.hash)?.scrollIntoView()},100)})})();
