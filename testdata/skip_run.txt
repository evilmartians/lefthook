exec git init
exec git add -A
exec lefthook run skip
! stdout 'Ha-ha!'
exec lefthook run no-skip
stdout 'Ha-ha!'

[unix] exec lefthook run skip-var
[windows] exec lefthook run skip-var-windows
! stdout 'Ha-ha!'

env VAR=1
[unix] exec lefthook run skip-var
[windows] exec lefthook run skip-var-windows
  stdout 'Ha-ha!'

-- lefthook.yml --
skip_output:
  - skips
  - meta
  - summary
  - execution_info
skip:
  skip:
    - run: test 1 -eq 1
  commands:
    echo:
      run: echo 'Ha-ha!'

no-skip:
  skip:
    - run: "[ 1 -eq 0 ]"
  commands:
    echo:
      run: echo 'Ha-ha!'

skip-var:
  skip:
    - run: test -z $VAR
  commands:
    echo:
      run: echo 'Ha-ha!'

skip-var-windows:
  skip:
    - run: if (-not $env:VAR) { exit 1 } else { exit 0 }
  commands:
    echo:
      run: echo 'Ha-ha!'
